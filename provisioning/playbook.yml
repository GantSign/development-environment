---
- hosts: all
  sudo: true
  pre_tasks:
    - name: update apt cache
      apt: update_cache=yes cache_valid_time=86400
  roles:
    - role: unison
      includeDirectories:
        - .ssh
      includeFiles:
        - .bash_history
        - .zsh_history
        - .gitconfig
      ignorePaths:
        - Path .ssh/authorized_keys
    - role: keyboard
      model: pc105
      layout: gb
    - system
    - common-cli
    - role: franklinkim.git
      git_config:
        core:
          autocrlf: input
        alias:
          ls: 'log --pretty=format:"%C(yellow)%h%Cred%d\\ %Creset%s%Cblue\\ [%cn]" --decorate'
          ll: 'log --pretty=format:"%C(yellow)%h%Cred%d\\ %Creset%s%Cblue\\ [%cn]" --decorate --numstat'
          lds: 'log --pretty=format:"%C(yellow)%h\\ %ad%Cred%d\\ %Creset%s%Cblue\\ [%cn]" --decorate --date=short'
          rom: 'rebase origin/master'
    - role: angstwad.docker_ubuntu
      docker_group_members:
        - vagrant
    - role: franklinkim.users-oh-my-zsh
      users:
        - name: Vagrant
          username: vagrant
          authorized_keys: []
          oh_my_zsh:
            theme: robbyrussell
            plugins: command-not-found docker git
